(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){(function(process,global){(function(global,factory){typeof exports==='object'&&typeof module!=='undefined'?module.exports=factory():typeof define==='function'&&define.amd?define(factory):(global.ES6Promise=factory());}(this,(function(){'use strict';function objectOrFunction(x){return typeof x==='function'||typeof x==='object'&&x!==null;}function isFunction(x){return typeof x==='function';}var _isArray=undefined;if(!Array.isArray){_isArray=function(x){return Object.prototype.toString.call(x)==='[object Array]';};}else{_isArray=Array.isArray;}var isArray=_isArray;var len=0;var vertxNext=undefined;var customSchedulerFn=undefined;var asap=function asap(callback,arg){queue[len]=callback;queue[len+1]=arg;len+=2;if(len===2){if(customSchedulerFn){customSchedulerFn(flush);}else{scheduleFlush();}}};function setScheduler(scheduleFn){customSchedulerFn=scheduleFn;}function setAsap(asapFn){asap=asapFn;}var browserWindow=typeof window!=='undefined'?window:undefined;var browserGlobal=browserWindow||{};var BrowserMutationObserver=browserGlobal.MutationObserver||browserGlobal.WebKitMutationObserver;var isNode=typeof self==='undefined'&&typeof process!=='undefined'&&({}).toString.call(process)==='[object process]';var isWorker=typeof Uint8ClampedArray!=='undefined'&&typeof importScripts!=='undefined'&&typeof MessageChannel!=='undefined';function useNextTick(){return function(){return process.nextTick(flush);};}function useVertxTimer(){if(typeof vertxNext!=='undefined'){return function(){vertxNext(flush);};}return useSetTimeout();}function useMutationObserver(){var iterations=0;var observer=new BrowserMutationObserver(flush);var node=document.createTextNode('');observer.observe(node,{characterData:true});return function(){node.data=iterations=++iterations%2;};}function useMessageChannel(){var channel=new MessageChannel();channel.port1.onmessage=flush;return function(){return channel.port2.postMessage(0);};}function useSetTimeout(){var globalSetTimeout=setTimeout;return function(){return globalSetTimeout(flush,1);};}var queue=new Array(1000);function flush(){for(var i=0;i<len;i+=2){var callback=queue[i];var arg=queue[i+1];callback(arg);queue[i]=undefined;queue[i+1]=undefined;}len=0;}function attemptVertx(){try{var r=require;var vertx=r('vertx');vertxNext=vertx.runOnLoop||vertx.runOnContext;return useVertxTimer();}catch(e){return useSetTimeout();}}var scheduleFlush=undefined;if(isNode){scheduleFlush=useNextTick();}else if(BrowserMutationObserver){scheduleFlush=useMutationObserver();}else if(isWorker){scheduleFlush=useMessageChannel();}else if(browserWindow===undefined&&typeof require==='function'){scheduleFlush=attemptVertx();}else{scheduleFlush=useSetTimeout();}function then(onFulfillment,onRejection){var _arguments=arguments;var parent=this;var child=new this.constructor(noop);if(child[PROMISE_ID]===undefined){makePromise(child);}var _state=parent._state;if(_state){(function(){var callback=_arguments[_state-1];asap(function(){return invokeCallback(_state,child,callback,parent._result);});})();}else{subscribe(parent,child,onFulfillment,onRejection);}return child;}function resolve(object){var Constructor=this;if(object&&typeof object==='object'&&object.constructor===Constructor){return object;}var promise=new Constructor(noop);_resolve(promise,object);return promise;}var PROMISE_ID=Math.random().toString(36).substring(16);function noop(){}var PENDING=void 0;var FULFILLED=1;var REJECTED=2;var GET_THEN_ERROR=new ErrorObject();function selfFulfillment(){return new TypeError("You cannot resolve a promise with itself");}function cannotReturnOwn(){return new TypeError('A promises callback cannot return that same promise.');}function getThen(promise){try{return promise.then;}catch(error){GET_THEN_ERROR.error=error;return GET_THEN_ERROR;}}function tryThen(then,value,fulfillmentHandler,rejectionHandler){try{then.call(value,fulfillmentHandler,rejectionHandler);}catch(e){return e;}}function handleForeignThenable(promise,thenable,then){asap(function(promise){var sealed=false;var error=tryThen(then,thenable,function(value){if(sealed){return;}sealed=true;if(thenable!==value){_resolve(promise,value);}else{fulfill(promise,value);}},function(reason){if(sealed){return;}sealed=true;_reject(promise,reason);},'Settle: '+(promise._label||' unknown promise'));if(!sealed&&error){sealed=true;_reject(promise,error);}},promise);}function handleOwnThenable(promise,thenable){if(thenable._state===FULFILLED){fulfill(promise,thenable._result);}else if(thenable._state===REJECTED){_reject(promise,thenable._result);}else{subscribe(thenable,undefined,function(value){return _resolve(promise,value);},function(reason){return _reject(promise,reason);});}}function handleMaybeThenable(promise,maybeThenable,then$$){if(maybeThenable.constructor===promise.constructor&&then$$===then&&maybeThenable.constructor.resolve===resolve){handleOwnThenable(promise,maybeThenable);}else{if(then$$===GET_THEN_ERROR){_reject(promise,GET_THEN_ERROR.error);GET_THEN_ERROR.error=null;}else if(then$$===undefined){fulfill(promise,maybeThenable);}else if(isFunction(then$$)){handleForeignThenable(promise,maybeThenable,then$$);}else{fulfill(promise,maybeThenable);}}}function _resolve(promise,value){if(promise===value){_reject(promise,selfFulfillment());}else if(objectOrFunction(value)){handleMaybeThenable(promise,value,getThen(value));}else{fulfill(promise,value);}}function publishRejection(promise){if(promise._onerror){promise._onerror(promise._result);}publish(promise);}function fulfill(promise,value){if(promise._state!==PENDING){return;}promise._result=value;promise._state=FULFILLED;if(promise._subscribers.length!==0){asap(publish,promise);}}function _reject(promise,reason){if(promise._state!==PENDING){return;}promise._state=REJECTED;promise._result=reason;asap(publishRejection,promise);}function subscribe(parent,child,onFulfillment,onRejection){var _subscribers=parent._subscribers;var length=_subscribers.length;parent._onerror=null;_subscribers[length]=child;_subscribers[length+FULFILLED]=onFulfillment;_subscribers[length+REJECTED]=onRejection;if(length===0&&parent._state){asap(publish,parent);}}function publish(promise){var subscribers=promise._subscribers;var settled=promise._state;if(subscribers.length===0){return;}var child=undefined,callback=undefined,detail=promise._result;for(var i=0;i<subscribers.length;i+=3){child=subscribers[i];callback=subscribers[i+settled];if(child){invokeCallback(settled,child,callback,detail);}else{callback(detail);}}promise._subscribers.length=0;}function ErrorObject(){this.error=null;}var TRY_CATCH_ERROR=new ErrorObject();function tryCatch(callback,detail){try{return callback(detail);}catch(e){TRY_CATCH_ERROR.error=e;return TRY_CATCH_ERROR;}}function invokeCallback(settled,promise,callback,detail){var hasCallback=isFunction(callback),value=undefined,error=undefined,succeeded=undefined,failed=undefined;if(hasCallback){value=tryCatch(callback,detail);if(value===TRY_CATCH_ERROR){failed=true;error=value.error;value.error=null;}else{succeeded=true;}if(promise===value){_reject(promise,cannotReturnOwn());return;}}else{value=detail;succeeded=true;}if(promise._state!==PENDING){}else if(hasCallback&&succeeded){_resolve(promise,value);}else if(failed){_reject(promise,error);}else if(settled===FULFILLED){fulfill(promise,value);}else if(settled===REJECTED){_reject(promise,value);}}function initializePromise(promise,resolver){try{resolver(function resolvePromise(value){_resolve(promise,value);},function rejectPromise(reason){_reject(promise,reason);});}catch(e){_reject(promise,e);}}var id=0;function nextId(){return id++;}function makePromise(promise){promise[PROMISE_ID]=id++;promise._state=undefined;promise._result=undefined;promise._subscribers=[];}function Enumerator(Constructor,input){this._instanceConstructor=Constructor;this.promise=new Constructor(noop);if(!this.promise[PROMISE_ID]){makePromise(this.promise);}if(isArray(input)){this._input=input;this.length=input.length;this._remaining=input.length;this._result=new Array(this.length);if(this.length===0){fulfill(this.promise,this._result);}else{this.length=this.length||0;this._enumerate();if(this._remaining===0){fulfill(this.promise,this._result);}}}else{_reject(this.promise,validationError());}}function validationError(){return new Error('Array Methods must be provided an Array');};Enumerator.prototype._enumerate=function(){var length=this.length;var _input=this._input;for(var i=0;this._state===PENDING&&i<length;i++){this._eachEntry(_input[i],i);}};Enumerator.prototype._eachEntry=function(entry,i){var c=this._instanceConstructor;var resolve$$=c.resolve;if(resolve$$===resolve){var _then=getThen(entry);if(_then===then&&entry._state!==PENDING){this._settledAt(entry._state,i,entry._result);}else if(typeof _then!=='function'){this._remaining--;this._result[i]=entry;}else if(c===Promise){var promise=new c(noop);handleMaybeThenable(promise,entry,_then);this._willSettleAt(promise,i);}else{this._willSettleAt(new c(function(resolve$$){return resolve$$(entry);}),i);}}else{this._willSettleAt(resolve$$(entry),i);}};Enumerator.prototype._settledAt=function(state,i,value){var promise=this.promise;if(promise._state===PENDING){this._remaining--;if(state===REJECTED){_reject(promise,value);}else{this._result[i]=value;}}if(this._remaining===0){fulfill(promise,this._result);}};Enumerator.prototype._willSettleAt=function(promise,i){var enumerator=this;subscribe(promise,undefined,function(value){return enumerator._settledAt(FULFILLED,i,value);},function(reason){return enumerator._settledAt(REJECTED,i,reason);});};function all(entries){return new Enumerator(this,entries).promise;}function race(entries){var Constructor=this;if(!isArray(entries)){return new Constructor(function(_,reject){return reject(new TypeError('You must pass an array to race.'));});}else{return new Constructor(function(resolve,reject){var length=entries.length;for(var i=0;i<length;i++){Constructor.resolve(entries[i]).then(resolve,reject);}});}}function reject(reason){var Constructor=this;var promise=new Constructor(noop);_reject(promise,reason);return promise;}function needsResolver(){throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');}function needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");}function Promise(resolver){this[PROMISE_ID]=nextId();this._result=this._state=undefined;this._subscribers=[];if(noop!==resolver){typeof resolver!=='function'&&needsResolver();this instanceof Promise?initializePromise(this,resolver):needsNew();}}Promise.all=all;Promise.race=race;Promise.resolve=resolve;Promise.reject=reject;Promise._setScheduler=setScheduler;Promise._setAsap=setAsap;Promise._asap=asap;Promise.prototype={constructor:Promise,then:then,'catch':function _catch(onRejection){return this.then(null,onRejection);}};function polyfill(){var local=undefined;if(typeof global!=='undefined'){local=global;}else if(typeof self!=='undefined'){local=self;}else{try{local=Function('return this')();}catch(e){throw new Error('polyfill failed because global object is unavailable in this environment');}}var P=local.Promise;if(P){var promiseToString=null;try{promiseToString=Object.prototype.toString.call(P.resolve());}catch(e){}if(promiseToString==='[object Promise]'&&!P.cast){return;}}local.Promise=Promise;}Promise.polyfill=polyfill;Promise.Promise=Promise;return Promise;})));}).call(this,require('_process'),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"_process":3}],2:[function(require,module,exports){(function(global){var LARGE_ARRAY_SIZE=200;var FUNC_ERROR_TEXT='Expected a function';var HASH_UNDEFINED='__lodash_hash_undefined__';var UNORDERED_COMPARE_FLAG=1,PARTIAL_COMPARE_FLAG=2;var INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,MAX_INTEGER=1.7976931348623157e+308,NAN=0/0;var argsTag='[object Arguments]',arrayTag='[object Array]',boolTag='[object Boolean]',dateTag='[object Date]',errorTag='[object Error]',funcTag='[object Function]',genTag='[object GeneratorFunction]',mapTag='[object Map]',numberTag='[object Number]',objectTag='[object Object]',promiseTag='[object Promise]',regexpTag='[object RegExp]',setTag='[object Set]',stringTag='[object String]',symbolTag='[object Symbol]',weakMapTag='[object WeakMap]';var arrayBufferTag='[object ArrayBuffer]',dataViewTag='[object DataView]',float32Tag='[object Float32Array]',float64Tag='[object Float64Array]',int8Tag='[object Int8Array]',int16Tag='[object Int16Array]',int32Tag='[object Int32Array]',uint8Tag='[object Uint8Array]',uint8ClampedTag='[object Uint8ClampedArray]',uint16Tag='[object Uint16Array]',uint32Tag='[object Uint32Array]';var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var reRegExpChar=/[\\^$.*+?()[\]{}|]/g;var reTrim=/^\s+|\s+$/g;var reEscapeChar=/\\(\\)?/g;var reIsBadHex=/^[-+]0x[0-9a-f]+$/i;var reIsBinary=/^0b[01]+$/i;var reIsHostCtor=/^\[object .+?Constructor\]$/;var reIsOctal=/^0o[0-7]+$/i;var reIsUint=/^(?:0|[1-9]\d*)$/;var typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=true;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=false;var freeParseInt=parseInt;var freeGlobal=typeof global=='object'&&global&&global.Object===Object&&global;var freeSelf=typeof self=='object'&&self&&self.Object===Object&&self;var root=freeGlobal||freeSelf||Function('return this')();var freeExports=typeof exports=='object'&&exports&&!exports.nodeType&&exports;var freeModule=freeExports&&typeof module=='object'&&module&&!module.nodeType&&module;var moduleExports=freeModule&&freeModule.exports===freeExports;var freeProcess=moduleExports&&freeGlobal.process;var nodeUtil=(function(){try{return freeProcess&&freeProcess.binding('util');}catch(e){}}());var nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function arraySome(array,predicate){var index=-1,length=array?array.length:0;while(++index<length){if(predicate(array[index],index,array)){return true;}}return false;}function baseFindIndex(array,predicate,fromIndex,fromRight){var length=array.length,index=fromIndex+(fromRight?1:-1);while((fromRight?index--:++index<length)){if(predicate(array[index],index,array)){return index;}}return-1;}function baseProperty(key){return function(object){return object==null?undefined:object[key];};}function baseTimes(n,iteratee){var index=-1,result=Array(n);while(++index<n){result[index]=iteratee(index);}return result;}function baseUnary(func){return function(value){return func(value);};}function getValue(object,key){return object==null?undefined:object[key];}function isHostObject(value){var result=false;if(value!=null&&typeof value.toString!='function'){try{result=!!(value+'');}catch(e){}}return result;}function mapToArray(map){var index=-1,result=Array(map.size);map.forEach(function(value,key){result[++index]=[key,value];});return result;}function overArg(func,transform){return function(arg){return func(transform(arg));};}function setToArray(set){var index=-1,result=Array(set.size);set.forEach(function(value){result[++index]=value;});return result;}var arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype;var coreJsData=root['__core-js_shared__'];var maskSrcKey=(function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||'');return uid?('Symbol(src)_1.'+uid):'';}());var funcToString=funcProto.toString;var hasOwnProperty=objectProto.hasOwnProperty;var objectToString=objectProto.toString;var reIsNative=RegExp('^'+funcToString.call(hasOwnProperty).replace(reRegExpChar,'\\$&').replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,'$1.*?')+'$');var Symbol=root.Symbol,Uint8Array=root.Uint8Array,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice;var nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max;var DataView=getNative(root,'DataView'),Map=getNative(root,'Map'),Promise=getNative(root,'Promise'),Set=getNative(root,'Set'),WeakMap=getNative(root,'WeakMap'),nativeCreate=getNative(Object,'create');var dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap);var symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function Hash(entries){var index=-1,length=entries?entries.length:0;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1]);}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{};}function hashDelete(key){return this.has(key)&&delete this.__data__[key];}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?undefined:result;}return hasOwnProperty.call(data,key)?data[key]:undefined;}function hashHas(key){var data=this.__data__;return nativeCreate?data[key]!==undefined:hasOwnProperty.call(data,key);}function hashSet(key,value){var data=this.__data__;data[key]=(nativeCreate&&value===undefined)?HASH_UNDEFINED:value;return this;}Hash.prototype.clear=hashClear;Hash.prototype['delete']=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function ListCache(entries){var index=-1,length=entries?entries.length:0;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1]);}}function listCacheClear(){this.__data__=[];}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){return false;}var lastIndex=data.length-1;if(index==lastIndex){data.pop();}else{splice.call(data,index,1);}return true;}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1];}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1;}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);if(index<0){data.push([key,value]);}else{data[index][1]=value;}return this;}ListCache.prototype.clear=listCacheClear;ListCache.prototype['delete']=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function MapCache(entries){var index=-1,length=entries?entries.length:0;this.clear();while(++index<length){var entry=entries[index];this.set(entry[0],entry[1]);}}function mapCacheClear(){this.__data__={'hash':new Hash,'map':new(Map||ListCache),'string':new Hash};}function mapCacheDelete(key){return getMapData(this,key)['delete'](key);}function mapCacheGet(key){return getMapData(this,key).get(key);}function mapCacheHas(key){return getMapData(this,key).has(key);}function mapCacheSet(key,value){getMapData(this,key).set(key,value);return this;}MapCache.prototype.clear=mapCacheClear;MapCache.prototype['delete']=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;function SetCache(values){var index=-1,length=values?values.length:0;this.__data__=new MapCache;while(++index<length){this.add(values[index]);}}function setCacheAdd(value){this.__data__.set(value,HASH_UNDEFINED);return this;}function setCacheHas(value){return this.__data__.has(value);}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function Stack(entries){this.__data__=new ListCache(entries);}function stackClear(){this.__data__=new ListCache;}function stackDelete(key){return this.__data__['delete'](key);}function stackGet(key){return this.__data__.get(key);}function stackHas(key){return this.__data__.has(key);}function stackSet(key,value){var cache=this.__data__;if(cache instanceof ListCache){var pairs=cache.__data__;if(!Map||(pairs.length<LARGE_ARRAY_SIZE-1)){pairs.push([key,value]);return this;}cache=this.__data__=new MapCache(pairs);}cache.set(key,value);return this;}Stack.prototype.clear=stackClear;Stack.prototype['delete']=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function arrayLikeKeys(value,inherited){var result=(isArray(value)||isArguments(value))?baseTimes(value.length,String):[];var length=result.length,skipIndexes=!!length;for(var key in value){if((inherited||hasOwnProperty.call(value,key))&&!(skipIndexes&&(key=='length'||isIndex(key,length)))){result.push(key);}}return result;}function assocIndexOf(array,key){var length=array.length;while(length--){if(eq(array[length][0],key)){return length;}}return-1;}function baseGet(object,path){path=isKey(path,object)?[path]:castPath(path);var index=0,length=path.length;while(object!=null&&index<length){object=object[toKey(path[index++])];}return(index&&index==length)?object:undefined;}function baseGetTag(value){return objectToString.call(value);}function baseHasIn(object,key){return object!=null&&key in Object(object);}function baseIsEqual(value,other,customizer,bitmask,stack){if(value===other){return true;}if(value==null||other==null||(!isObject(value)&&!isObjectLike(other))){return value!==value&&other!==other;}return baseIsEqualDeep(value,other,baseIsEqual,customizer,bitmask,stack);}function baseIsEqualDeep(object,other,equalFunc,customizer,bitmask,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;if(!objIsArr){objTag=getTag(object);objTag=objTag==argsTag?objectTag:objTag;}if(!othIsArr){othTag=getTag(other);othTag=othTag==argsTag?objectTag:othTag;}var objIsObj=objTag==objectTag&&!isHostObject(object),othIsObj=othTag==objectTag&&!isHostObject(other),isSameTag=objTag==othTag;if(isSameTag&&!objIsObj){stack||(stack=new Stack);return(objIsArr||isTypedArray(object))?equalArrays(object,other,equalFunc,customizer,bitmask,stack):equalByTag(object,other,objTag,equalFunc,customizer,bitmask,stack);}if(!(bitmask&PARTIAL_COMPARE_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,'__wrapped__'),othIsWrapped=othIsObj&&hasOwnProperty.call(other,'__wrapped__');if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;stack||(stack=new Stack);return equalFunc(objUnwrapped,othUnwrapped,customizer,bitmask,stack);}}if(!isSameTag){return false;}stack||(stack=new Stack);return equalObjects(object,other,equalFunc,customizer,bitmask,stack);}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(object==null){return!length;}object=Object(object);while(index--){var data=matchData[index];if((noCustomizer&&data[2])?data[1]!==object[data[0]]:!(data[0]in object)){return false;}}while(++index<length){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object)){return false;}}else{var stack=new Stack;if(customizer){var result=customizer(objValue,srcValue,key,object,source,stack);}if(!(result===undefined?baseIsEqual(srcValue,objValue,customizer,UNORDERED_COMPARE_FLAG|PARTIAL_COMPARE_FLAG,stack):result)){return false;}}}return true;}function baseIsNative(value){if(!isObject(value)||isMasked(value)){return false;}var pattern=(isFunction(value)||isHostObject(value))?reIsNative:reIsHostCtor;return pattern.test(toSource(value));}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objectToString.call(value)];}function baseIteratee(value){if(typeof value=='function'){return value;}if(value==null){return identity;}if(typeof value=='object'){return isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value);}return property(value);}function baseKeys(object){if(!isPrototype(object)){return nativeKeys(object);}var result=[];for(var key in Object(object)){if(hasOwnProperty.call(object,key)&&key!='constructor'){result.push(key);}}return result;}function baseMatches(source){var matchData=getMatchData(source);if(matchData.length==1&&matchData[0][2]){return matchesStrictComparable(matchData[0][0],matchData[0][1]);}return function(object){return object===source||baseIsMatch(object,source,matchData);};}function baseMatchesProperty(path,srcValue){if(isKey(path)&&isStrictComparable(srcValue)){return matchesStrictComparable(toKey(path),srcValue);}return function(object){var objValue=get(object,path);return(objValue===undefined&&objValue===srcValue)?hasIn(object,path):baseIsEqual(srcValue,objValue,undefined,UNORDERED_COMPARE_FLAG|PARTIAL_COMPARE_FLAG);};}function basePropertyDeep(path){return function(object){return baseGet(object,path);};}function baseToString(value){if(typeof value=='string'){return value;}if(isSymbol(value)){return symbolToString?symbolToString.call(value):'';}var result=(value+'');return(result=='0'&&(1/value)==-INFINITY)?'-0':result;}function castPath(value){return isArray(value)?value:stringToPath(value);}function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=baseIteratee(predicate,3);collection=keys(collection);predicate=function(key){return iteratee(iterable[key],key,iterable);};}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:undefined;};}function equalArrays(array,other,equalFunc,customizer,bitmask,stack){var isPartial=bitmask&PARTIAL_COMPARE_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength)){return false;}var stacked=stack.get(array);if(stacked&&stack.get(other)){return stacked==other;}var index=-1,result=true,seen=(bitmask&UNORDERED_COMPARE_FLAG)?new SetCache:undefined;stack.set(array,other);stack.set(other,array);while(++index<arrLength){var arrValue=array[index],othValue=other[index];if(customizer){var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);}if(compared!==undefined){if(compared){continue;}result=false;break;}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!seen.has(othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,customizer,bitmask,stack))){return seen.add(othIndex);}})){result=false;break;}}else if(!(arrValue===othValue||equalFunc(arrValue,othValue,customizer,bitmask,stack))){result=false;break;}}stack['delete'](array);stack['delete'](other);return result;}function equalByTag(object,other,tag,equalFunc,customizer,bitmask,stack){switch(tag){case dataViewTag:if((object.byteLength!=other.byteLength)||(object.byteOffset!=other.byteOffset)){return false;}object=object.buffer;other=other.buffer;case arrayBufferTag:if((object.byteLength!=other.byteLength)||!equalFunc(new Uint8Array(object),new Uint8Array(other))){return false;}return true;case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==(other+'');case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&PARTIAL_COMPARE_FLAG;convert||(convert=setToArray);if(object.size!=other.size&&!isPartial){return false;}var stacked=stack.get(object);if(stacked){return stacked==other;}bitmask|=UNORDERED_COMPARE_FLAG;stack.set(object,other);var result=equalArrays(convert(object),convert(other),equalFunc,customizer,bitmask,stack);stack['delete'](object);return result;case symbolTag:if(symbolValueOf){return symbolValueOf.call(object)==symbolValueOf.call(other);}}return false;}function equalObjects(object,other,equalFunc,customizer,bitmask,stack){var isPartial=bitmask&PARTIAL_COMPARE_FLAG,objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial){return false;}var index=objLength;while(index--){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key))){return false;}}var stacked=stack.get(object);if(stacked&&stack.get(other)){return stacked==other;}var result=true;stack.set(object,other);stack.set(other,object);var skipCtor=isPartial;while(++index<objLength){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer){var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);}if(!(compared===undefined?(objValue===othValue||equalFunc(objValue,othValue,customizer,bitmask,stack)):compared)){result=false;break;}skipCtor||(skipCtor=key=='constructor');}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&('constructor'in object&&'constructor'in other)&&!(typeof objCtor=='function'&&objCtor instanceof objCtor&&typeof othCtor=='function'&&othCtor instanceof othCtor)){result=false;}}stack['delete'](object);stack['delete'](other);return result;}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data[typeof key=='string'?'string':'hash']:data.map;}function getMatchData(object){var result=keys(object),length=result.length;while(length--){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)];}return result;}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:undefined;}var getTag=baseGetTag;if((DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag)||(Map&&getTag(new Map)!=mapTag)||(Promise&&getTag(Promise.resolve())!=promiseTag)||(Set&&getTag(new Set)!=setTag)||(WeakMap&&getTag(new WeakMap)!=weakMapTag)){getTag=function(value){var result=objectToString.call(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):undefined;if(ctorString){switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag;}}return result;};}function hasPath(object,path,hasFunc){path=isKey(path,object)?[path]:castPath(path);var result,index=-1,length=path.length;while(++index<length){var key=toKey(path[index]);if(!(result=object!=null&&hasFunc(object,key))){break;}object=object[key];}if(result){return result;}var length=object?object.length:0;return!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object));}function isIndex(value,length){length=length==null?MAX_SAFE_INTEGER:length;return!!length&&(typeof value=='number'||reIsUint.test(value))&&(value>-1&&value%1==0&&value<length);}function isKey(value,object){if(isArray(value)){return false;}var type=typeof value;if(type=='number'||type=='symbol'||type=='boolean'||value==null||isSymbol(value)){return true;}return reIsPlainProp.test(value)||!reIsDeepProp.test(value)||(object!=null&&value in Object(object));}function isKeyable(value){var type=typeof value;return(type=='string'||type=='number'||type=='symbol'||type=='boolean')?(value!=='__proto__'):(value===null);}function isMasked(func){return!!maskSrcKey&&(maskSrcKey in func);}function isPrototype(value){var Ctor=value&&value.constructor,proto=(typeof Ctor=='function'&&Ctor.prototype)||objectProto;return value===proto;}function isStrictComparable(value){return value===value&&!isObject(value);}function matchesStrictComparable(key,srcValue){return function(object){if(object==null){return false;}return object[key]===srcValue&&(srcValue!==undefined||(key in Object(object)));};}var stringToPath=memoize(function(string){string=toString(string);var result=[];if(reLeadingDot.test(string)){result.push('');}string.replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,'$1'):(number||match));});return result;});function toKey(value){if(typeof value=='string'||isSymbol(value)){return value;}var result=(value+'');return(result=='0'&&(1/value)==-INFINITY)?'-0':result;}function toSource(func){if(func!=null){try{return funcToString.call(func);}catch(e){}try{return(func+'');}catch(e){}}return'';}function findIndex(array,predicate,fromIndex){var length=array?array.length:0;if(!length){return-1;}var index=fromIndex==null?0:toInteger(fromIndex);if(index<0){index=nativeMax(length+index,0);}return baseFindIndex(array,baseIteratee(predicate,3),index);}var find=createFind(findIndex);function memoize(func,resolver){if(typeof func!='function'||(resolver&&typeof resolver!='function')){throw new TypeError(FUNC_ERROR_TEXT);}var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key)){return cache.get(key);}var result=func.apply(this,args);memoized.cache=cache.set(key,result);return result;};memoized.cache=new(memoize.Cache||MapCache);return memoized;}memoize.Cache=MapCache;function eq(value,other){return value===other||(value!==value&&other!==other);}function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,'callee')&&(!propertyIsEnumerable.call(value,'callee')||objectToString.call(value)==argsTag);}var isArray=Array.isArray;function isArrayLike(value){return value!=null&&isLength(value.length)&&!isFunction(value);}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value);}function isFunction(value){var tag=isObject(value)?objectToString.call(value):'';return tag==funcTag||tag==genTag;}function isLength(value){return typeof value=='number'&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER;}function isObject(value){var type=typeof value;return!!value&&(type=='object'||type=='function');}function isObjectLike(value){return!!value&&typeof value=='object';}function isSymbol(value){return typeof value=='symbol'||(isObjectLike(value)&&objectToString.call(value)==symbolTag);}var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;function toFinite(value){if(!value){return value===0?value:0;}value=toNumber(value);if(value===INFINITY||value===-INFINITY){var sign=(value<0?-1:1);return sign*MAX_INTEGER;}return value===value?value:0;}function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?(remainder?result-remainder:result):0;}function toNumber(value){if(typeof value=='number'){return value;}if(isSymbol(value)){return NAN;}if(isObject(value)){var other=typeof value.valueOf=='function'?value.valueOf():value;value=isObject(other)?(other+''):other;}if(typeof value!='string'){return value===0?value:+value;}value=value.replace(reTrim,'');var isBinary=reIsBinary.test(value);return(isBinary||reIsOctal.test(value))?freeParseInt(value.slice(2),isBinary?2:8):(reIsBadHex.test(value)?NAN:+value);}function toString(value){return value==null?'':baseToString(value);}function get(object,path,defaultValue){var result=object==null?undefined:baseGet(object,path);return result===undefined?defaultValue:result;}function hasIn(object,path){return object!=null&&hasPath(object,path,baseHasIn);}function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object);}function identity(value){return value;}function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path);}module.exports=find;}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],3:[function(require,module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error('setTimeout has not been defined');}function defaultClearTimeout(){throw new Error('clearTimeout has not been defined');}(function(){try{if(typeof setTimeout==='function'){cachedSetTimeout=setTimeout;}else{cachedSetTimeout=defaultSetTimout;}}catch(e){cachedSetTimeout=defaultSetTimout;}try{if(typeof clearTimeout==='function'){cachedClearTimeout=clearTimeout;}else{cachedClearTimeout=defaultClearTimeout;}}catch(e){cachedClearTimeout=defaultClearTimeout;}}())
function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0);}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0);}try{return cachedSetTimeout(fun,0);}catch(e){try{return cachedSetTimeout.call(null,fun,0);}catch(e){return cachedSetTimeout.call(this,fun,0);}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker);}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker);}try{return cachedClearTimeout(marker);}catch(e){try{return cachedClearTimeout.call(null,marker);}catch(e){return cachedClearTimeout.call(this,marker);}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return;}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue);}else{queueIndex=-1;}if(queue.length){drainQueue();}}function drainQueue(){if(draining){return;}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run();}}queueIndex=-1;len=queue.length;}currentQueue=null;draining=false;runClearTimeout(timeout);}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i];}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue);}};function Item(fun,array){this.fun=fun;this.array=array;}Item.prototype.run=function(){this.fun.apply(null,this.array);};process.title='browser';process.browser=true;process.env={};process.argv=[];process.version='';process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.binding=function(name){throw new Error('process.binding is not supported');};process.cwd=function(){return'/'};process.chdir=function(dir){throw new Error('process.chdir is not supported');};process.umask=function(){return 0;};},{}],4:[function(require,module,exports){'use strict';var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol?"symbol":typeof obj;};function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}var serialise=function serialise(obj){if((typeof obj==='undefined'?'undefined':_typeof(obj))!='object')return obj;var pairs=[];for(var key in obj){if(null!=obj[key]){pairs.push(encodeURIComponent(key)+'='+encodeURIComponent(obj[key]));}}return pairs.join('&');};var jsonp=function jsonp(requestOrConfig){var reqFunc=function reqFunc(request){if(typeof window=='undefined')return request;request.end=end.bind(request)(requestOrConfig);return request;};if(typeof requestOrConfig.end=='function'){return reqFunc(requestOrConfig);}else{return reqFunc;}};jsonp.callbackWrapper=function(data){var err=null;var res={body:data};clearTimeout(this._jsonp.timeout);this._jsonp.callback.call(this,err,res);};jsonp.errorWrapper=function(){var err=new Error('404 NotFound');this._jsonp.callback.call(this,err,null);};var end=function end(){var config=arguments.length<=0||arguments[0]===undefined?{timeout:1000}:arguments[0];return function(callback){var timeout=setTimeout(jsonp.errorWrapper.bind(this),config.timeout);this._jsonp={callbackParam:config.callbackParam||'callback',callbackName:config.callbackName||'superagentCallback'+new Date().valueOf()+parseInt(Math.random()*1000),callback:callback,timeout:timeout};window[this._jsonp.callbackName]=jsonp.callbackWrapper.bind(this);var params=_defineProperty({},this._jsonp.callbackParam,this._jsonp.callbackName);this._query.push(serialise(params));var queryString=this._query.join('&');var s=document.createElement('script');var separator=this.url.indexOf('?')>-1?'&':'?';var url=this.url+separator+queryString;s.src=url;document.getElementsByTagName('head')[0].appendChild(s);return this;};};if(typeof module!=='undefined'&&typeof module.exports!=='undefined'){module.exports=jsonp;}else if(typeof window!=='undefined'){window.superagentJSONP=jsonp;}},{}],5:[function(require,module,exports){var root;if(typeof window!=='undefined'){root=window;}else if(typeof self!=='undefined'){root=self;}else{console.warn("Using browser-only version of superagent in non-browser environment");root=this;}var Emitter=require('component-emitter');var RequestBase=require('./request-base');var isObject=require('./is-object');var isFunction=require('./is-function');var ResponseBase=require('./response-base');var shouldRetry=require('./should-retry');function noop(){};var request=exports=module.exports=function(method,url){if('function'==typeof url){return new exports.Request('GET',method).end(url);}if(1==arguments.length){return new exports.Request('GET',method);}return new exports.Request(method,url);}
exports.Request=Request;request.getXHR=function(){if(root.XMLHttpRequest&&(!root.location||'file:'!=root.location.protocol||!root.ActiveXObject)){return new XMLHttpRequest;}else{try{return new ActiveXObject('Microsoft.XMLHTTP');}catch(e){}try{return new ActiveXObject('Msxml2.XMLHTTP.6.0');}catch(e){}try{return new ActiveXObject('Msxml2.XMLHTTP.3.0');}catch(e){}try{return new ActiveXObject('Msxml2.XMLHTTP');}catch(e){}}throw Error("Browser-only verison of superagent could not find XHR");};var trim=''.trim?function(s){return s.trim();}:function(s){return s.replace(/(^\s*|\s*$)/g,'');};function serialize(obj){if(!isObject(obj))return obj;var pairs=[];for(var key in obj){pushEncodedKeyValuePair(pairs,key,obj[key]);}return pairs.join('&');}function pushEncodedKeyValuePair(pairs,key,val){if(val!=null){if(Array.isArray(val)){val.forEach(function(v){pushEncodedKeyValuePair(pairs,key,v);});}else if(isObject(val)){for(var subkey in val){pushEncodedKeyValuePair(pairs,key+'['+subkey+']',val[subkey]);}}else{pairs.push(encodeURIComponent(key)+'='+encodeURIComponent(val));}}else if(val===null){pairs.push(encodeURIComponent(key));}}request.serializeObject=serialize;function parseString(str){var obj={};var pairs=str.split('&');var pair;var pos;for(var i=0,len=pairs.length;i<len;++i){pair=pairs[i];pos=pair.indexOf('=');if(pos==-1){obj[decodeURIComponent(pair)]='';}else{obj[decodeURIComponent(pair.slice(0,pos))]=decodeURIComponent(pair.slice(pos+1));}}return obj;}request.parseString=parseString;request.types={html:'text/html',json:'application/json',xml:'application/xml',urlencoded:'application/x-www-form-urlencoded','form':'application/x-www-form-urlencoded','form-data':'application/x-www-form-urlencoded'};request.serialize={'application/x-www-form-urlencoded':serialize,'application/json':JSON.stringify};request.parse={'application/x-www-form-urlencoded':parseString,'application/json':JSON.parse};function parseHeader(str){var lines=str.split(/\r?\n/);var fields={};var index;var line;var field;var val;lines.pop();for(var i=0,len=lines.length;i<len;++i){line=lines[i];index=line.indexOf(':');field=line.slice(0,index).toLowerCase();val=trim(line.slice(index+1));fields[field]=val;}return fields;}function isJSON(mime){return/[\/+]json\b/.test(mime);}function Response(req){this.req=req;this.xhr=this.req.xhr;this.text=((this.req.method!='HEAD'&&(this.xhr.responseType===''||this.xhr.responseType==='text'))||typeof this.xhr.responseType==='undefined')?this.xhr.responseText:null;this.statusText=this.req.xhr.statusText;var status=this.xhr.status;if(status===1223){status=204;}this._setStatusProperties(status);this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders());this.header['content-type']=this.xhr.getResponseHeader('content-type');this._setHeaderProperties(this.header);if(null===this.text&&req._responseType){this.body=this.xhr.response;}else{this.body=this.req.method!='HEAD'?this._parseBody(this.text?this.text:this.xhr.response):null;}}ResponseBase(Response.prototype);Response.prototype._parseBody=function(str){var parse=request.parse[this.type];if(this.req._parser){return this.req._parser(this,str);}if(!parse&&isJSON(this.type)){parse=request.parse['application/json'];}return parse&&str&&(str.length||str instanceof Object)?parse(str):null;};Response.prototype.toError=function(){var req=this.req;var method=req.method;var url=req.url;var msg='cannot '+method+' '+url+' ('+this.status+')';var err=new Error(msg);err.status=this.status;err.method=method;err.url=url;return err;};request.Response=Response;function Request(method,url){var self=this;this._query=this._query||[];this.method=method;this.url=url;this.header={};this._header={};this.on('end',function(){var err=null;var res=null;try{res=new Response(self);}catch(e){err=new Error('Parser is unable to parse the response');err.parse=true;err.original=e;if(self.xhr){err.rawResponse=typeof self.xhr.responseType=='undefined'?self.xhr.responseText:self.xhr.response;err.status=self.xhr.status?self.xhr.status:null;err.statusCode=err.status;}else{err.rawResponse=null;err.status=null;}return self.callback(err);}self.emit('response',res);var new_err;try{if(!self._isResponseOK(res)){new_err=new Error(res.statusText||'Unsuccessful HTTP response');new_err.original=err;new_err.response=res;new_err.status=res.status;}}catch(e){new_err=e;}if(new_err){self.callback(new_err,res);}else{self.callback(null,res);}});}Emitter(Request.prototype);RequestBase(Request.prototype);Request.prototype.type=function(type){this.set('Content-Type',request.types[type]||type);return this;};Request.prototype.accept=function(type){this.set('Accept',request.types[type]||type);return this;};Request.prototype.auth=function(user,pass,options){if(typeof pass==='object'&&pass!==null){options=pass;}if(!options){options={type:'function'===typeof btoa?'basic':'auto',}}switch(options.type){case'basic':this.set('Authorization','Basic '+btoa(user+':'+pass));break;case'auto':this.username=user;this.password=pass;break;case'bearer':this.set('Authorization','Bearer '+user);break;}return this;};Request.prototype.query=function(val){if('string'!=typeof val)val=serialize(val);if(val)this._query.push(val);return this;};Request.prototype.attach=function(field,file,options){if(file){if(this._data){throw Error("superagent can't mix .send() and .attach()");}this._getFormData().append(field,file,options||file.name);}return this;};Request.prototype._getFormData=function(){if(!this._formData){this._formData=new root.FormData();}return this._formData;};Request.prototype.callback=function(err,res){if(this._maxRetries&&this._retries++<this._maxRetries&&shouldRetry(err,res)){return this._retry();}var fn=this._callback;this.clearTimeout();if(err){if(this._maxRetries)err.retries=this._retries-1;this.emit('error',err);}fn(err,res);};Request.prototype.crossDomainError=function(){var err=new Error('Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.');err.crossDomain=true;err.status=this.status;err.method=this.method;err.url=this.url;this.callback(err);};Request.prototype.buffer=Request.prototype.ca=Request.prototype.agent=function(){console.warn("This is not supported in browser version of superagent");return this;};Request.prototype.pipe=Request.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent");};Request.prototype._appendQueryString=function(){var query=this._query.join('&');if(query){this.url+=(this.url.indexOf('?')>=0?'&':'?')+query;}if(this._sort){var index=this.url.indexOf('?');if(index>=0){var queryArr=this.url.substring(index+1).split('&');if(isFunction(this._sort)){queryArr.sort(this._sort);}else{queryArr.sort();}this.url=this.url.substring(0,index)+'?'+queryArr.join('&');}}};Request.prototype._isHost=function _isHost(obj){return obj&&'object'===typeof obj&&!Array.isArray(obj)&&Object.prototype.toString.call(obj)!=='[object Object]';}
Request.prototype.end=function(fn){if(this._endCalled){console.warn("Warning: .end() was called twice. This is not supported in superagent");}this._endCalled=true;this._callback=fn||noop;this._appendQueryString();return this._end();};Request.prototype._end=function(){var self=this;var xhr=this.xhr=request.getXHR();var data=this._formData||this._data;this._setTimeouts();xhr.onreadystatechange=function(){var readyState=xhr.readyState;if(readyState>=2&&self._responseTimeoutTimer){clearTimeout(self._responseTimeoutTimer);}if(4!=readyState){return;}var status;try{status=xhr.status}catch(e){status=0;}if(!status){if(self.timedout||self._aborted)return;return self.crossDomainError();}self.emit('end');};var handleProgress=function(direction,e){if(e.total>0){e.percent=e.loaded/e.total*100;alert(e.percent);}e.direction=direction;self.emit('progress',e);}
if(this.hasListeners('progress')){try{xhr.onprogress=handleProgress.bind(null,'download');if(xhr.upload){xhr.upload.onprogress=handleProgress.bind(null,'upload');}}catch(e){}}try{if(this.username&&this.password){xhr.open(this.method,this.url,true,this.username,this.password);}else{xhr.open(this.method,this.url,true);}}catch(err){return this.callback(err);}if(this._withCredentials)xhr.withCredentials=true;if(!this._formData&&'GET'!=this.method&&'HEAD'!=this.method&&'string'!=typeof data&&!this._isHost(data)){var contentType=this._header['content-type'];var serialize=this._serializer||request.serialize[contentType?contentType.split(';')[0]:''];if(!serialize&&isJSON(contentType)){serialize=request.serialize['application/json'];}if(serialize)data=serialize(data);}for(var field in this.header){if(null==this.header[field])continue;xhr.setRequestHeader(field,this.header[field]);}if(this._responseType){xhr.responseType=this._responseType;}this.emit('request',this);xhr.send(typeof data!=='undefined'?data:null);return this;};request.get=function(url,data,fn){var req=request('GET',url);if('function'==typeof data)fn=data,data=null;if(data)req.query(data);if(fn)req.end(fn);return req;};request.head=function(url,data,fn){var req=request('HEAD',url);if('function'==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req;};request.options=function(url,data,fn){var req=request('OPTIONS',url);if('function'==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req;};function del(url,data,fn){var req=request('DELETE',url);if('function'==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req;};request['del']=del;request['delete']=del;request.patch=function(url,data,fn){var req=request('PATCH',url);if('function'==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req;};request.post=function(url,data,fn){var req=request('POST',url);if('function'==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req;};request.put=function(url,data,fn){var req=request('PUT',url);if('function'==typeof data)fn=data,data=null;if(data)req.send(data);if(fn)req.end(fn);return req;};},{"./is-function":6,"./is-object":7,"./request-base":8,"./response-base":9,"./should-retry":10,"component-emitter":12}],6:[function(require,module,exports){var isObject=require('./is-object');function isFunction(fn){var tag=isObject(fn)?Object.prototype.toString.call(fn):'';return tag==='[object Function]';}module.exports=isFunction;},{"./is-object":7}],7:[function(require,module,exports){function isObject(obj){return null!==obj&&'object'===typeof obj;}module.exports=isObject;},{}],8:[function(require,module,exports){var isObject=require('./is-object');module.exports=RequestBase;function RequestBase(obj){if(obj)return mixin(obj);}function mixin(obj){for(var key in RequestBase.prototype){obj[key]=RequestBase.prototype[key];}return obj;}RequestBase.prototype.clearTimeout=function _clearTimeout(){clearTimeout(this._timer);clearTimeout(this._responseTimeoutTimer);delete this._timer;delete this._responseTimeoutTimer;return this;};RequestBase.prototype.parse=function parse(fn){this._parser=fn;return this;};RequestBase.prototype.responseType=function(val){this._responseType=val;return this;};RequestBase.prototype.serialize=function serialize(fn){this._serializer=fn;return this;};RequestBase.prototype.timeout=function timeout(options){if(!options||'object'!==typeof options){this._timeout=options;this._responseTimeout=0;return this;}for(var option in options){switch(option){case'deadline':this._timeout=options.deadline;break;case'response':this._responseTimeout=options.response;break;default:console.warn("Unknown timeout option",option);}}return this;};RequestBase.prototype.retry=function retry(count){if(arguments.length===0||count===true)count=1;if(count<=0)count=0;this._maxRetries=count;this._retries=0;return this;};RequestBase.prototype._retry=function(){this.clearTimeout();if(this.req){this.req=null;this.req=this.request();}this._aborted=false;this.timedout=false;return this._end();};RequestBase.prototype.then=function then(resolve,reject){if(!this._fullfilledPromise){var self=this;if(this._endCalled){console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises");}this._fullfilledPromise=new Promise(function(innerResolve,innerReject){self.end(function(err,res){if(err)innerReject(err);else innerResolve(res);});});}return this._fullfilledPromise.then(resolve,reject);}
RequestBase.prototype.catch=function(cb){return this.then(undefined,cb);};RequestBase.prototype.use=function use(fn){fn(this);return this;}
RequestBase.prototype.ok=function(cb){if('function'!==typeof cb)throw Error("Callback required");this._okCallback=cb;return this;};RequestBase.prototype._isResponseOK=function(res){if(!res){return false;}if(this._okCallback){return this._okCallback(res);}return res.status>=200&&res.status<300;};RequestBase.prototype.get=function(field){return this._header[field.toLowerCase()];};RequestBase.prototype.getHeader=RequestBase.prototype.get;RequestBase.prototype.set=function(field,val){if(isObject(field)){for(var key in field){this.set(key,field[key]);}return this;}this._header[field.toLowerCase()]=val;this.header[field]=val;return this;};RequestBase.prototype.unset=function(field){delete this._header[field.toLowerCase()];delete this.header[field];return this;};RequestBase.prototype.field=function(name,val){if(null===name||undefined===name){throw new Error('.field(name, val) name can not be empty');}if(this._data){console.error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");}if(isObject(name)){for(var key in name){this.field(key,name[key]);}return this;}if(Array.isArray(val)){for(var i in val){this.field(name,val[i]);}return this;}if(null===val||undefined===val){throw new Error('.field(name, val) val can not be empty');}if('boolean'===typeof val){val=''+val;}this._getFormData().append(name,val);return this;};RequestBase.prototype.abort=function(){if(this._aborted){return this;}this._aborted=true;this.xhr&&this.xhr.abort();this.req&&this.req.abort();this.clearTimeout();this.emit('abort');return this;};RequestBase.prototype.withCredentials=function(on){if(on==undefined)on=true;this._withCredentials=on;return this;};RequestBase.prototype.redirects=function(n){this._maxRedirects=n;return this;};RequestBase.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header};};RequestBase.prototype.send=function(data){var isObj=isObject(data);var type=this._header['content-type'];if(this._formData){console.error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");}if(isObj&&!this._data){if(Array.isArray(data)){this._data=[];}else if(!this._isHost(data)){this._data={};}}else if(data&&this._data&&this._isHost(this._data)){throw Error("Can't merge these send calls");}if(isObj&&isObject(this._data)){for(var key in data){this._data[key]=data[key];}}else if('string'==typeof data){if(!type)this.type('form');type=this._header['content-type'];if('application/x-www-form-urlencoded'==type){this._data=this._data?this._data+'&'+data:data;}else{this._data=(this._data||'')+data;}}else{this._data=data;}if(!isObj||this._isHost(data)){return this;}if(!type)this.type('json');return this;};RequestBase.prototype.sortQuery=function(sort){this._sort=typeof sort==='undefined'?true:sort;return this;};RequestBase.prototype._timeoutError=function(reason,timeout,errno){if(this._aborted){return;}var err=new Error(reason+timeout+'ms exceeded');err.timeout=timeout;err.code='ECONNABORTED';err.errno=errno;this.timedout=true;this.abort();this.callback(err);};RequestBase.prototype._setTimeouts=function(){var self=this;if(this._timeout&&!this._timer){this._timer=setTimeout(function(){self._timeoutError('Timeout of ',self._timeout,'ETIME');},this._timeout);}if(this._responseTimeout&&!this._responseTimeoutTimer){this._responseTimeoutTimer=setTimeout(function(){self._timeoutError('Response timeout of ',self._responseTimeout,'ETIMEDOUT');},this._responseTimeout);}}},{"./is-object":7}],9:[function(require,module,exports){var utils=require('./utils');module.exports=ResponseBase;function ResponseBase(obj){if(obj)return mixin(obj);}function mixin(obj){for(var key in ResponseBase.prototype){obj[key]=ResponseBase.prototype[key];}return obj;}ResponseBase.prototype.get=function(field){return this.header[field.toLowerCase()];};ResponseBase.prototype._setHeaderProperties=function(header){var ct=header['content-type']||'';this.type=utils.type(ct);var params=utils.params(ct);for(var key in params)this[key]=params[key];this.links={};try{if(header.link){this.links=utils.parseLinks(header.link);}}catch(err){}};ResponseBase.prototype._setStatusProperties=function(status){var type=status/100|0;this.status=this.statusCode=status;this.statusType=type;this.info=1==type;this.ok=2==type;this.redirect=3==type;this.clientError=4==type;this.serverError=5==type;this.error=(4==type||5==type)?this.toError():false;this.accepted=202==status;this.noContent=204==status;this.badRequest=400==status;this.unauthorized=401==status;this.notAcceptable=406==status;this.forbidden=403==status;this.notFound=404==status;};},{"./utils":11}],10:[function(require,module,exports){var ERROR_CODES=['ECONNRESET','ETIMEDOUT','EADDRINFO','ESOCKETTIMEDOUT'];module.exports=function shouldRetry(err,res){if(err&&err.code&&~ERROR_CODES.indexOf(err.code))return true;if(res&&res.status&&res.status>=500)return true;if(err&&'timeout'in err&&err.code=='ECONNABORTED')return true;return false;};},{}],11:[function(require,module,exports){exports.type=function(str){return str.split(/ *; */).shift();};exports.params=function(str){return str.split(/ *; */).reduce(function(obj,str){var parts=str.split(/ *= */);var key=parts.shift();var val=parts.shift();if(key&&val)obj[key]=val;return obj;},{});};exports.parseLinks=function(str){return str.split(/ *, */).reduce(function(obj,str){var parts=str.split(/ *; */);var url=parts[0].slice(1,-1);var rel=parts[1].split(/ *= */)[1].slice(1,-1);obj[rel]=url;return obj;},{});};exports.cleanHeader=function(header,shouldStripCookie){delete header['content-type'];delete header['content-length'];delete header['transfer-encoding'];delete header['host'];if(shouldStripCookie){delete header['cookie'];}return header;};},{}],12:[function(require,module,exports){if(typeof module!=='undefined'){module.exports=Emitter;}function Emitter(obj){if(obj)return mixin(obj);};function mixin(obj){for(var key in Emitter.prototype){obj[key]=Emitter.prototype[key];}return obj;}Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){this._callbacks=this._callbacks||{};(this._callbacks['$'+event]=this._callbacks['$'+event]||[]).push(fn);return this;};Emitter.prototype.once=function(event,fn){function on(){this.off(event,on);fn.apply(this,arguments);}on.fn=fn;this.on(event,on);return this;};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this;}var callbacks=this._callbacks['$'+event];if(!callbacks)return this;if(1==arguments.length){delete this._callbacks['$'+event];return this;}var cb;for(var i=0;i<callbacks.length;i++){cb=callbacks[i];if(cb===fn||cb.fn===fn){callbacks.splice(i,1);break;}}return this;};Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks['$'+event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;++i){callbacks[i].apply(this,args);}}return this;};Emitter.prototype.listeners=function(event){this._callbacks=this._callbacks||{};return this._callbacks['$'+event]||[];};Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length;};},{}],13:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var social_controller_1=require("./social_controller");'use strict';var e=eval,global=e('this');var SocialShareCountJS;(function(SocialShareCountJS){var SocialCounter=(function(){function SocialCounter(option){if(SocialCounter._instance){return SocialCounter._instance;}else{this.controller=new social_controller_1.default(option);SocialCounter._instance=this;}}SocialCounter.prototype.setOption=function(option){this.controller.setOption(option);};return SocialCounter;}());SocialCounter._instance=null;SocialShareCountJS.SocialCounter=SocialCounter;})(SocialShareCountJS||(SocialShareCountJS={}));if(typeof(module)!=='undefined'){if(typeof(module).exports.socialShareCount==='undefined'){(module).exports.socialShareCount=new SocialShareCountJS.SocialCounter();}}if(typeof(global)!=='undefined'){if(typeof global.socialShareCount==='undefined'){global.socialShareCount=new SocialShareCountJS.SocialCounter();}}},{"./social_controller":23}],14:[function(require,module,exports){"use strict";var __extends=(this&&this.__extends)||(function(){var extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];};return function(d,b){extendStatics(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};})();Object.defineProperty(exports,"__esModule",{value:true});var Social_1=require("./Social");var Model;(function(Model){var Facebook=(function(_super){__extends(Facebook,_super);function Facebook(){return _super!==null&&_super.apply(this,arguments)||this;}Facebook.fromData=function(data){var facebook=Social_1.default.fromData(data);facebook.name='facebook';facebook.url='https://graph.facebook.com/';facebook.sendData={id:data.url};return facebook;};return Facebook;}(Social_1.default));Model.Facebook=Facebook;})(Model||(Model={}));exports.default=Model.Facebook;},{"./Social":21}],15:[function(require,module,exports){"use strict";var __extends=(this&&this.__extends)||(function(){var extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];};return function(d,b){extendStatics(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};})();Object.defineProperty(exports,"__esModule",{value:true});var Social_1=require("./Social");var Model;(function(Model){var Feedly=(function(_super){__extends(Feedly,_super);function Feedly(){return _super!==null&&_super.apply(this,arguments)||this;}Feedly.fromData=function(data){var feedly=Social_1.default.fromData(data);feedly.name='feedly';feedly.url="http://cloud.feedly.com/v3/feeds/feed%2F"+encodeURIComponent(data.url);feedly.sendData=null;return feedly;};return Feedly;}(Social_1.default));Model.Feedly=Feedly;})(Model||(Model={}));exports.default=Model.Feedly;},{"./Social":21}],16:[function(require,module,exports){"use strict";var __extends=(this&&this.__extends)||(function(){var extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];};return function(d,b){extendStatics(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};})();Object.defineProperty(exports,"__esModule",{value:true});var Social_1=require("./Social");var Model;(function(Model){var Google=(function(_super){__extends(Google,_super);function Google(){return _super!==null&&_super.apply(this,arguments)||this;}Google.fromData=function(data,key){var google=Social_1.default.fromData(data);google.name='google';if(key){google.url="https://clients6.google.com/rpc?key="+key;google.sendData=[{"method":"pos.plusones.get","id":"p","params":{"nolog":true,"id":data.url,"source":"widget","userId":"@viewer","groupId":"@self"},"jsonrpc":"2.0","key":"p","apiVersion":"v1"}];}else{google.url="https://clients6.google.com/rpc";google.sendData={url:data.url};}return google;};return Google;}(Social_1.default));Model.Google=Google;})(Model||(Model={}));exports.default=Model.Google;},{"./Social":21}],17:[function(require,module,exports){"use strict";var __extends=(this&&this.__extends)||(function(){var extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];};return function(d,b){extendStatics(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};})();Object.defineProperty(exports,"__esModule",{value:true});var Social_1=require("./Social");var Model;(function(Model){var Hatena=(function(_super){__extends(Hatena,_super);function Hatena(){return _super!==null&&_super.apply(this,arguments)||this;}Hatena.fromData=function(data){var hatena=Social_1.default.fromData(data);hatena.name='hatena';hatena.url='http://api.b.st-hatena.com/entry.count';hatena.sendData={url:data.url};return hatena;};return Hatena;}(Social_1.default));Model.Hatena=Hatena;})(Model||(Model={}));exports.default=Model.Hatena;},{"./Social":21}],18:[function(require,module,exports){"use strict";var __extends=(this&&this.__extends)||(function(){var extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];};return function(d,b){extendStatics(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};})();Object.defineProperty(exports,"__esModule",{value:true});var Social_1=require("./Social");var Model;(function(Model){var Linkedin=(function(_super){__extends(Linkedin,_super);function Linkedin(){return _super!==null&&_super.apply(this,arguments)||this;}Linkedin.fromData=function(data){var linkedin=Social_1.default.fromData(data);linkedin.name='linkedin';linkedin.url='https://www.linkedin.com/countserv/count/share';linkedin.sendData={url:data.url};return linkedin;};return Linkedin;}(Social_1.default));Model.Linkedin=Linkedin;})(Model||(Model={}));exports.default=Model.Linkedin;},{"./Social":21}],19:[function(require,module,exports){"use strict";var __extends=(this&&this.__extends)||(function(){var extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];};return function(d,b){extendStatics(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};})();Object.defineProperty(exports,"__esModule",{value:true});var Social_1=require("./Social");var Model;(function(Model){var Pinterest=(function(_super){__extends(Pinterest,_super);function Pinterest(){return _super!==null&&_super.apply(this,arguments)||this;}Pinterest.fromData=function(data){var pinterest=Social_1.default.fromData(data);pinterest.name='pinterest';pinterest.url='https://api.pinterest.com/v1/urls/count.json';pinterest.sendData={url:data.url};return pinterest;};return Pinterest;}(Social_1.default));Model.Pinterest=Pinterest;})(Model||(Model={}));exports.default=Model.Pinterest;},{"./Social":21}],20:[function(require,module,exports){"use strict";var __extends=(this&&this.__extends)||(function(){var extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];};return function(d,b){extendStatics(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};})();Object.defineProperty(exports,"__esModule",{value:true});var Social_1=require("./Social");var Model;(function(Model){var Pocket=(function(_super){__extends(Pocket,_super);function Pocket(){return _super!==null&&_super.apply(this,arguments)||this;}Pocket.fromData=function(data){var pocket=Social_1.default.fromData(data);pocket.name='pocket';pocket.url='https://query.yahooapis.com/v1/public/yql';pocket.sendData={q:"SELECT content FROM data.headers WHERE url=\n            'https://widgets.getpocket.com/v1/button?label=pocket&count=vertical&v=1&url="+data.url+"&src="+data.url+"'",format:'xml',env:'store://datatables.org/alltableswithkeys'};return pocket;};return Pocket;}(Social_1.default));Model.Pocket=Pocket;})(Model||(Model={}));exports.default=Model.Pocket;},{"./Social":21}],21:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Model;(function(Model){var indexNumber=0;var Social=(function(){function Social(indexNumber,name,url,count,node){this.indexNumber=indexNumber;this.name=name;this.url=url;this.count=count;this.node=node;}Social.fromData=function(data){return new Social(indexNumber++,data.name?data.name:null,null,data.count?data.count:0,data.element?data.element:null);};Social.prototype.setCount=function(responseData){switch(this.name){case'facebook':this.count=responseData.share?responseData.share.share_count:0;break;case'twitter':this.count=responseData.count||0;break;case'google':if(responseData.shares){this.count=responseData.shares.google||0;}else{this.count=responseData.count||0;}break;case'feedly':console.log(responseData);break;case'pinterest':this.count=responseData.count||0;break;case'linkedin':this.count=responseData.count||0;break;case'hatena':this.count=responseData||0;break;case'pocket':if(responseData.results){var content=responseData.results.toString();var match=content.match(/&lt;em id="cnt"&gt;(\d+)&lt;\/em&gt;/i);this.count=match!==null?Number(match[1]):0;}break;}};return Social;}());Model.Social=Social;})(Model||(Model={}));exports.default=Model.Social;},{}],22:[function(require,module,exports){"use strict";var __extends=(this&&this.__extends)||(function(){var extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;})||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];};return function(d,b){extendStatics(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};})();Object.defineProperty(exports,"__esModule",{value:true});var Social_1=require("./Social");var Model;(function(Model){var Twitter=(function(_super){__extends(Twitter,_super);function Twitter(){return _super!==null&&_super.apply(this,arguments)||this;}Twitter.fromData=function(data){var twitter=Social_1.default.fromData(data);twitter.name='twitter';twitter.url='https://jsoon.digitiminimi.com/twitter/count.json';twitter.sendData={url:data.url};return twitter;};return Twitter;}(Social_1.default));Model.Twitter=Twitter;})(Model||(Model={}));exports.default=Model.Twitter;},{"./Social":21}],23:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var social_model_1=require("./social_model");var social_view_1=require("./social_view");var social_service_1=require("./social_service");var _={"find":require('lodash.find')};var SocialShareCountJS;(function(SocialShareCountJS){var Controller=(function(){function Controller(option){var _this=this;this.model=new social_model_1.default();this.socialCounters=[];if(option){this.model.setOption(option);}this.view=new social_view_1.default(function(socialCounters){socialCounters.forEach(function(socialCounter){_this.socialCounters.push(_this.model.createSocialCounter(socialCounter));});_this.requestCountData(_this.socialCounters);});}Controller.prototype.setOption=function(option){this.model.setOption(option);};Controller.prototype.requestCountData=function(socialCounters){var _this=this;socialCounters.forEach(function(socialCounter){new social_service_1.default().sendData(socialCounter).then(function(responseData){_this.setSocialCount(socialCounter.indexNumber,responseData);_this.view.setSocialCount(_this.socialCounters);}).catch(function(err){console.error(err);});});console.log(this.socialCounters);};Controller.prototype.setSocialCount=function(indexNumber,responseData){_.find(this.socialCounters,function(social){if(social.indexNumber===indexNumber){social.setCount(responseData);}});};return Controller;}());SocialShareCountJS.Controller=Controller;})(SocialShareCountJS||(SocialShareCountJS={}));exports.default=SocialShareCountJS.Controller;},{"./social_model":24,"./social_service":25,"./social_view":26,"lodash.find":2}],24:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var Facebook_1=require("./model/Facebook");var Twitter_1=require("./model/Twitter");var Google_1=require("./model/Google");var Feedly_1=require("./model/Feedly");var Pinterest_1=require("./model/Pinterest");var Linkedin_1=require("./model/Linkedin");var Hatena_1=require("./model/Hatena");var Pocket_1=require("./model/Pocket");var SocialShareCountJS;(function(SocialShareCountJS){var SocialCounterModel=(function(){function SocialCounterModel(){}SocialCounterModel.prototype.createSocialCounter=function(social){var socialModel;switch(social.name){case'facebook':socialModel=Facebook_1.default.fromData(social);break;case'twitter':socialModel=Twitter_1.default.fromData(social);break;case'google':if(this.option&&this.option.google_key){socialModel=Google_1.default.fromData(social,this.option.google_key);}else{socialModel=Google_1.default.fromData(social);}break;case'feedly':socialModel=Feedly_1.default.fromData(social);break;case'pinterest':socialModel=Pinterest_1.default.fromData(social);break;case'linkedin':socialModel=Linkedin_1.default.fromData(social);break;case'hatena':socialModel=Hatena_1.default.fromData(social);break;case'pocket':socialModel=Pocket_1.default.fromData(social);break;}return socialModel;};SocialCounterModel.prototype.setOption=function(option){this.option=option;};return SocialCounterModel;}());SocialShareCountJS.SocialCounterModel=SocialCounterModel;})(SocialShareCountJS||(SocialShareCountJS={}));exports.default=SocialShareCountJS.SocialCounterModel;},{"./model/Facebook":14,"./model/Feedly":15,"./model/Google":16,"./model/Hatena":17,"./model/Linkedin":18,"./model/Pinterest":19,"./model/Pocket":20,"./model/Twitter":22}],25:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var request=require("superagent");var jsonp=require("superagent-jsonp");var Promise=this.Promise||require('es6-promise').Promise;var SocialService=(function(){function SocialService(){}SocialService.prototype.sendData=function(social){var _this=this;return new Promise(function(resolve,reject){if(social.name=="google"&&_this.isGoogleKey(social.sendData)){request.post(social.url).send(social.sendData).set('Accept','application/json').end(function(err,res){if(err){reject(err);}else{resolve(res.body[0].result.metadata.globalCounts);}});}else{request.get(social.url).query(social.sendData).use(jsonp({timeout:10000})).end(function(err,res){if(err){reject(err);}else{resolve(res.body);}});}});};SocialService.prototype.isGoogleKey=function(sendData){return Array.isArray(sendData);};return SocialService;}());exports.default=SocialService;},{"es6-promise":1,"superagent":5,"superagent-jsonp":4}],26:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var SocialShareCountJS;(function(SocialShareCountJS){var socialCountSelectors=['[data-sc-fb]','[data-sc-tw]','[data-sc-gp]','[data-sc-fd]','[data-sc-pr]','[data-sc-ln]','[data-sc-hb]','[data-sc-pk]'];var SocialCounterView=(function(){function SocialCounterView(callBack){var _this=this;this.socialCounterElements=[];document.addEventListener("DOMContentLoaded",function(){_this.bindSocialCounterElements();callBack(_this.socialCounterElements);});}SocialCounterView.prototype.bindSocialCounterElements=function(){var _this=this;var socialViewList=[];socialCountSelectors.forEach(function(socialCountSelector){socialViewList.push(_this.createSocialCounterElements(socialCountSelector,document.querySelectorAll(socialCountSelector)));});socialViewList.forEach(function(socialView){socialView.forEach(function(social){_this.socialCounterElements.push(social);});});};SocialCounterView.prototype.createSocialCounterElements=function(selector,elements){var _this=this;var socialViewList=[];console.log(elements);switch(selector){case'[data-sc-fb]':elements.forEach(function(element){socialViewList.push(_this.createSocialView('facebook',element,element.dataset.scFb));});break;case'[data-sc-tw]':elements.forEach(function(element){socialViewList.push(_this.createSocialView('twitter',element,element.dataset.scTw));});break;case'[data-sc-gp]':elements.forEach(function(element){socialViewList.push(_this.createSocialView('google',element,element.dataset.scGp));});break;case'[data-sc-fd]':elements.forEach(function(element){socialViewList.push(_this.createSocialView('feedly',element,element.dataset.scFd));});break;case'[data-sc-pr]':elements.forEach(function(element){socialViewList.push(_this.createSocialView('pinterest',element,element.dataset.scPr));});break;case'[data-sc-ln]':elements.forEach(function(element){socialViewList.push(_this.createSocialView('linkedin',element,element.dataset.scLn));});break;case'[data-sc-hb]':elements.forEach(function(element){socialViewList.push(_this.createSocialView('hatena',element,element.dataset.scHb));});break;case'[data-sc-pk]':elements.forEach(function(element){socialViewList.push(_this.createSocialView('pocket',element,element.dataset.scPk));});break;}return socialViewList;};SocialCounterView.prototype.createSocialView=function(name,element,url){console.log(name,element,url);return Social.fromData({name:name,element:element,url:url});};var total_share_count=0;SocialCounterView.prototype.setSocialCount=function(socialCounters){socialCounters.forEach(function(social){var count_cal=social.count;console.log(count_cal);if(count_cal<1000000&&count_cal>999){count_cal=Math.round((count_cal/1000),1);count_cal=count_cal+"K";}else if(count_cal>1000000){count_cal=Math.round((count_cal/1000000),1);count_cal=count_cal+"M";}else{count_cal=count_cal;}count_cal='('+count_cal+')';total_share_count=social.count+total_share_count;console.log(total_share_count);social.node.innerText=count_cal;return false;});jQuery('.social-icons .nc_tweetContainer.totesalt a span.swp_count').html('<span class="swp_label">shares</span>'+total_share_count);};return SocialCounterView;}());SocialShareCountJS.SocialCounterView=SocialCounterView;var Social=(function(){function Social(name,element,url){this.name=name;this.element=element;this.url=url;}Social.fromData=function(data){return new Social(data.name,data.element?data.element:null,data.url);};return Social;}());})(SocialShareCountJS||(SocialShareCountJS={}));exports.default=SocialShareCountJS.SocialCounterView;},{}]},{},[13]);